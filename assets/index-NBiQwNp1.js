function R(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function e(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=e(r);fetch(r.href,c)}})();const N="/assets/images/Duration%20Home%20Interior%20Acrylic-C39C7lzd.png",B="/assets/images/Emerald-999O02PA.png",H="/assets/images/Latex%20Primer-ZbsZZP5c.png",k="/assets/images/ProClassic%20White-Dvzxx8Xa.png",G="/assets/images/ProClassic-DtKAzw-4.png",J="/assets/images/SuperPaint-SclRXjbY.png",O="/assets/images/Surface%20Enamel-Dx8j5g3S.png",M="data:image/png;base64,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",W="/assets/images/slider-bg-DSNynhLZ.png";function T(t){let a=JSON.parse(localStorage.getItem("cart"))||[];const e=a.find(s=>s.id===t.id);e?e.quantity+=1:a.push(t),localStorage.setItem("cart",JSON.stringify(a)),Q()}function Q(){const t=JSON.parse(localStorage.getItem("cart"))||[],a=document.querySelector(".control__btn_cart");if(a){const e=t.reduce((s,r)=>s+r.quantity,0);a.textContent=e}X()}function X(){const t=JSON.parse(localStorage.getItem("cart"))||[],a=document.querySelector(".cart-items");a&&(a.innerHTML="",t.forEach(e=>{const s=document.createElement("div");s.className="cart-item";const r=new URL(Object.assign({"../assets/images/Duration Home Interior Acrylic.png":N,"../assets/images/Emerald.png":B,"../assets/images/Latex Primer.png":H,"../assets/images/ProClassic White.png":k,"../assets/images/ProClassic.png":G,"../assets/images/SuperPaint.png":J,"../assets/images/Surface Enamel.png":O,"../assets/images/favicon-64.png":M,"../assets/images/slider-bg.png":W})["../assets/images/".concat(product.image)],import.meta.url).href;s.innerHTML='\n      <div class="cart-item__image">\n        <img src="'.concat(r,'" alt="').concat(e.name,'">\n      </div>\n      <div class="cart-item__info">\n        <div class="cart-item__name">').concat(e.name,'</div>\n        <div class="cart-item__price">').concat(e.price,' ₽</div>\n      </div>\n      <div class="cart-item__controls">\n        <button class="cart-item__decrease" type="button">-</button>\n        <span class="cart-item__quantity">').concat(e.quantity,'</span>\n        <button class="cart-item__increase" type="button">+</button>\n      </div>\n      <button class="cart-item__remove" type="button">\n        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M1 1L13 13M13 1L1 13" stroke="currentColor" stroke-width="2"/>\n        </svg>\n      </button>\n    '),a.appendChild(s)}),_(),p())}function _(){let t=0;document.querySelectorAll(".cart-item").forEach(e=>{const s=e.querySelector(".cart-item__price"),r=e.querySelector(".cart-item__quantity"),c=parseInt(s.textContent.replace(/\D/g,"")),m=parseInt(r.textContent);t+=c*m}),document.querySelector(".cart-total__price").textContent=t+" ₽"}function p(){let t=0;const a=document.querySelector(".control__btn_cart");document.querySelectorAll(".cart-item__quantity").forEach(r=>t+=Number(r.textContent));const s=document.querySelector(".cart-count");s.textContent="".concat(t," товаров"),a.textContent=t}function L(t,a){const e=JSON.parse(localStorage.getItem("cart"))||[],s=t.querySelector(".cart-item__name").textContent,r=e.findIndex(c=>c.name===s);r!==-1&&(a==="increase"?e[r].quantity+=1:a==="decrease"?e[r].quantity-=1:a==="remove"&&e.splice(r,1),localStorage.setItem("cart",JSON.stringify(e)))}const Y="687f44aeefe65e5200890472",U="https://".concat(Y,".mockapi.io/api/v1/paints"),j=async()=>{try{return(await axios.get(U)).data}catch(t){throw console.error("Error fetching paints:",t),t}},h=document.querySelector(".catalog__products");function b(t){h.innerHTML="";const a=document.createDocumentFragment();t.forEach(e=>{const s=document.createElement("div");s.className="card",s.dataset.product="data-product",s.dataset.id=e.id,s.dataset.name=e.name,s.dataset.price=e.price,s.dataset.image=e.image;const r=new URL(Object.assign({"../assets/images/Duration Home Interior Acrylic.png":N,"../assets/images/Emerald.png":B,"../assets/images/Latex Primer.png":H,"../assets/images/ProClassic White.png":k,"../assets/images/ProClassic.png":G,"../assets/images/SuperPaint.png":J,"../assets/images/Surface Enamel.png":O,"../assets/images/favicon-64.png":M,"../assets/images/slider-bg.png":W})["../assets/images/".concat(e.image)],import.meta.url).href;s.innerHTML='\n      <div class="card__image-container">\n        <img src="'.concat(r,'" alt="').concat(e.alt,'" class="card__image" loading="lazy">\n      </div>\n      <div class="card__content">\n        <p class="card__name">').concat(e.name,'</p>\n        <div class="card__description">\n          <p class="card__price">').concat(e.price,' ₽</p>\n          <button class="card__add-to-cart" type="button" aria-label="Add to cart">+</button>\n        </div>\n      </div>\n    '),s.querySelector(".card__add-to-cart").addEventListener("click",()=>T({id:e.id,name:e.name,price:e.price,image:e.image,quantity:1})),a.appendChild(s)}),h.appendChild(a)}function D(t){const a=t.length;document.querySelector(".count-product").textContent="".concat(a," товар")}async function A(t){return(await j()).filter(s=>s.categories.includes(t))}function S(t,a){let e=[...a];switch(t){case"price-desc":e.sort((s,r)=>r.price-s.price);break;case"price-asc":e.sort((s,r)=>s.price-r.price);break;case"rating-desc":e.sort((s,r)=>r.rating-s.rating);break;case"newest":e.sort((s,r)=>new Date(r.createdAt)-new Date(s.createdAt));break}return e}const g=document.querySelector(".sort-dropdown"),K=g.querySelector(".sort-dropdown__selected"),V=g.querySelector(".sort-dropdown__current"),q=g.querySelectorAll(".sort-dropdown__item");let v="price-desc",f="new";K.addEventListener("click",t=>{t.stopPropagation(),g.classList.toggle("sort-dropdown__active")});document.addEventListener("click",t=>{g.contains(t.target)||g.classList.remove("sort-dropdown__active")});q.forEach(t=>{t.addEventListener("click",async()=>{V.textContent=t.textContent,g.classList.remove("sort-dropdown__active"),q.forEach(s=>{s.classList.remove("sort-dropdown__item_selected")}),t.classList.add("sort-dropdown__item_selected"),v=t.dataset.value;const a=await A(f),e=S(v,a);b(e)})});const w=document.querySelector(".header__nav"),F=document.querySelectorAll(".nav__item"),y=document.querySelector(".burger"),u=document.querySelector(".wrapper"),i=document.body,P=document.querySelector(".btn-close_menu");y.addEventListener("click",t=>{(t.target===y||t.target.closest(".burger"))&&(w.classList.toggle("header__nav_active"),u.classList.toggle("menu__active"),i.classList.toggle("stop-scroll"))});F.forEach(t=>{t.addEventListener("click",()=>{w.classList.toggle("header__nav_active"),u.classList.toggle("menu__active"),i.classList.toggle("stop-scroll")})});P.addEventListener("click",t=>{(t.target===P||t.target.closest(".btn-close_menu"))&&(w.classList.toggle("header__nav_active"),u.classList.toggle("menu__active"),i.classList.toggle("stop-scroll"))});const C=document.querySelector(".filter-container"),z=document.querySelectorAll(".filter__item"),x=document.querySelector(".filter-mobile__button"),I=document.querySelector(".btn-close_filter");x.addEventListener("click",t=>{(t.target===x||t.target.closest(".filter-mobile__button"))&&(C.classList.toggle("filter-container_active"),u.classList.toggle("menu__active"),i.classList.toggle("stop-scroll"))});z.forEach(t=>{t.addEventListener("change",async a=>{C.classList.remove("filter-container_active"),u.classList.remove("menu__active"),i.classList.remove("stop-scroll"),f=a.target.id;const e=await A(f),s=S(v,e);D(e),b(s)})});I.addEventListener("click",t=>{(t.target===I||t.target.closest(".btn-close_filter"))&&(C.classList.toggle("filter-container_active"),u.classList.toggle("menu__active"),i.classList.toggle("stop-scroll"))});document.addEventListener("DOMContentLoaded",async function(){const t=document.querySelector(".control__btn_cart"),a=document.querySelector(".cart-close"),e=document.querySelector(".cart-clear"),s=document.querySelectorAll(".card__add-to-cart"),r=document.querySelector(".cart-items");X();const c=await A(f);D(c);const m=S(v,c);b(m),new Swiper(".slider .swiper",{loop:!0,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),t.addEventListener("click",l=>{(l.target===y||l.target.closest(".control__btn_cart"))&&(i.classList.toggle("cart-open"),i.classList.toggle("stop-scroll"))}),a.addEventListener("click",l=>{(l.target===a||l.target.closest(".cart-close"))&&(i.classList.remove("cart-open"),u.classList.remove("menu__active"),i.classList.toggle("stop-scroll"))}),r.addEventListener("click",l=>{const n=l.target;if(n.classList.contains("cart-item__increase")||n.closest(".cart-item__increase")){const o=n.classList.contains("cart-item__increase")?n:n.closest(".cart-item__increase"),d=o.previousElementSibling;d.textContent=parseInt(d.textContent)+1,_(),p(),L(o.closest(".cart-item"),"increase")}else if(n.classList.contains("cart-item__decrease")||n.closest(".cart-item__decrease")){const o=n.classList.contains("cart-item__decrease")?n:n.closest(".cart-item__decrease"),d=o.nextElementSibling,E=parseInt(d.textContent);E>1&&(d.textContent=E-1,_(),p(),L(o.closest(".cart-item"),"decrease"))}else if(n.classList.contains("cart-item__remove")||n.closest(".cart-item__remove")){const d=(n.classList.contains("cart-item__remove")?n:n.closest(".cart-item__remove")).closest(".cart-item");d.remove(),_(),p(),L(d,"remove")}}),e.addEventListener("click",()=>{document.querySelector(".cart-items").innerHTML="",localStorage.removeItem("cart"),_(),p()}),s.forEach(l=>{l.addEventListener("click",n=>{if(n.target.classList.contains("card__add-to-cart")){const o=n.target.closest(".card");console.log(o),T({id:o.dataset.id,name:o.dataset.name,price:o.dataset.price,image:o.dataset.image,quantity:1})}})})});export{R as __vite_legacy_guard};
